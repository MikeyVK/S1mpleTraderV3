# Component Type Registry
# Purpose: Define scaffoldable component types and their metadata
# Used by: ScaffoldComponentTool for validation and dynamic scaffolder loading
# Cross-references: None (leaf config)
# NOTE: Issue #107 will add dynamic loading using scaffolder_class + scaffolder_module

component_types:
  dto:
    type_id: "dto"
    description: "Data Transfer Object - immutable data container (Pydantic BaseModel)"
    scaffolder_class: "DTOScaffolder"
    scaffolder_module: "mcp_server.scaffolders.dto_scaffolder"
    template_path: "mcp_server/scaffolding/templates/dto.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: null
    base_path: "backend/dtos"
    test_base_path: "tests/backend/dtos"
    generate_test: true
    required_fields:
      - name
      - description
    optional_fields:
      - fields
      - validation_rules
      - docstring
      - generate_test
  
  worker:
    type_id: "worker"
    description: "Worker - executes single domain operation (async task processor)"
    scaffolder_class: "WorkerScaffolder"
    scaffolder_module: "mcp_server.scaffolders.worker_scaffolder"
    template_path: "mcp_server/scaffolding/templates/worker.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: "Worker"
    base_path: "backend/workers"
    test_base_path: "tests/backend/workers"
    generate_test: true
    required_fields:
      - name
      - input_dto
      - output_dto
    optional_fields:
      - dependencies
      - docstring
  
  adapter:
    type_id: "adapter"
    description: "Adapter - integrates external systems (implements Interface)"
    scaffolder_class: "AdapterScaffolder"
    scaffolder_module: "mcp_server.scaffolders.adapter_scaffolder"
    template_path: "mcp_server/scaffolding/templates/adapter.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: "Adapter"
    base_path: "backend/adapters"
    test_base_path: "tests/backend/adapters"
    generate_test: true
    required_fields:
      - name
      - interface
    optional_fields:
      - dependencies
      - methods
      - docstring
  
  tool:
    type_id: "tool"
    description: "MCP Tool - exposes functionality via MCP protocol"
    scaffolder_class: "ToolScaffolder"
    scaffolder_module: "mcp_server.scaffolders.tool_scaffolder"
    template_path: "mcp_server/scaffolding/templates/tool.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: "Tool"
    base_path: "mcp_server/tools"
    test_base_path: "tests/mcp_server/tools"
    generate_test: true
    required_fields:
      - name
      - input_schema
    optional_fields:
      - dependencies
      - docstring
  
  resource:
    type_id: "resource"
    description: "MCP Resource - provides dynamic content"
    scaffolder_class: "ResourceScaffolder"
    scaffolder_module: "mcp_server.scaffolders.resource_scaffolder"
    template_path: "mcp_server/scaffolding/templates/resource.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: null
    base_path: "mcp_server/resources"
    test_base_path: "tests/mcp_server/resources"
    generate_test: true
    required_fields:
      - name
      - uri_pattern
    optional_fields:
      - mime_type
      - docstring
  
  schema:
    type_id: "schema"
    description: "Pydantic Schema - validation models"
    scaffolder_class: "SchemaScaffolder"
    scaffolder_module: "mcp_server.scaffolders.schema_scaffolder"
    template_path: "mcp_server/scaffolding/templates/schema.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: null
    base_path: "mcp_server/schemas"
    test_base_path: "tests/mcp_server/schemas"
    generate_test: true
    required_fields:
      - name
    optional_fields:
      - models
      - docstring
  
  interface:
    type_id: "interface"
    description: "Interface - abstract protocol definition"
    scaffolder_class: "InterfaceScaffolder"
    scaffolder_module: "mcp_server.scaffolders.interface_scaffolder"
    template_path: "mcp_server/scaffolding/templates/interface.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: null
    base_path: "backend/interfaces"
    test_base_path: "tests/backend/interfaces"
    generate_test: true
    required_fields:
      - name
    optional_fields:
      - methods
      - docstring
  
  service:
    type_id: "service"
    description: "Service - orchestration or business logic"
    scaffolder_class: "ServiceScaffolder"
    scaffolder_module: "mcp_server.scaffolders.service_scaffolder"
    template_path: "mcp_server/scaffolding/templates/service.py.j2"
    fallback_template: "mcp_server/scaffolding/templates/generic.py.j2"
    name_suffix: "Service"
    base_path: "backend/services"
    test_base_path: "tests/backend/services"
    generate_test: true
    required_fields:
      - name
    optional_fields:
      - service_type
      - dependencies
      - docstring
  
  generic:
    type_id: "generic"
    description: "Generic component from custom template"
    scaffolder_class: "GenericScaffolder"
    scaffolder_module: "mcp_server.scaffolders.generic_scaffolder"
    template_path: null
    fallback_template: null
    name_suffix: null
    base_path: null
    test_base_path: null
    generate_test: false
    required_fields:
      - name
      - template_name
      - output_path
    optional_fields:
      - context
      - docstring
