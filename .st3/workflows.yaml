# Workflow Configuration
# Schema Version: 1.0
# Phase definitions: .st3/workphases.yaml (phase metadata, subphase whitelists, commit type hints)
# Documentation: docs/reference/WORKFLOWS.md

version: "1.0"
phase_source: ".st3/workphases.yaml"

workflows:
  # Feature Development (full workflow)
  feature:
    name: feature
    description: "Full development workflow with all phases (research → design → TDD → validation → docs)"
    default_execution_mode: interactive
    phases:
      - research
      - planning
      - design
      - tdd
      - validation
      - documentation

  # Bug Fix (with lightweight design phase for uniformity)
  bug:
    name: bug
    description: "Bug fix workflow (research → planning → design → TDD → validation → docs)"
    default_execution_mode: interactive
    phases:
      - research
      - planning
      - design
      - tdd
      - validation
      - documentation

  # Hotfix (minimal workflow)
  hotfix:
    name: hotfix
    description: "Emergency fix workflow (TDD → validation → docs only)"
    default_execution_mode: autonomous
    phases:
      - tdd
      - validation
      - documentation

  # Refactor (no design phase by default)
  refactor:
    name: refactor
    description: "Code refactoring workflow (research → planning → TDD → validation → docs)"
    default_execution_mode: interactive
    phases:
      - research
      - planning
      - tdd
      - validation
      - documentation

  # Documentation (minimal workflow)
  docs:
    name: docs
    description: "Documentation-only workflow (planning → docs)"
    default_execution_mode: interactive
    phases:
      - planning
      - documentation

  # Epic (research and planning focused)
  epic:
    name: epic
    description: "Epic workflow for large initiatives (research → planning → design → coordination → documentation)"
    default_execution_mode: interactive
    phases:
      - research
      - planning
      - design
      - coordination
      - documentation
