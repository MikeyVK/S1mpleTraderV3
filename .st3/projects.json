{
  "18": {
    "issue_number": 18,
    "issue_title": "Choke-point enforcement with PolicyEngine",
    "issue_type": "feature",
    "required_phases": [
      "research",
      "planning",
      "design",
      "component",
      "tdd",
      "integration",
      "documentation"
    ],
    "optional_phases": [],
    "skip_reason": null,
    "created_at": "2025-12-23T12:05:49.083553+00:00"
  },
  "38": {
    "issue_number": 38,
    "issue_title": "Enhance SafeEditTool with line-based edits, diff preview, and search/replace",
    "issue_type": "feature",
    "required_phases": [
      "research",
      "planning",
      "design",
      "component",
      "tdd",
      "integration",
      "documentation"
    ],
    "optional_phases": [],
    "skip_reason": null,
    "created_at": "2025-12-23T20:00:48.300921+00:00"
  },
  "49": {
    "issue_number": 49,
    "issue_title": "Epic: MCP Platform Configurability",
    "issue_type": "refactor",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "optional_phases": [],
    "skip_reason": null,
    "created_at": "2025-12-26T20:53:39.358819+00:00"
  },
  "50": {
    "issue_number": 50,
    "issue_title": "Config: Workflow Configuration System (workflows.yaml)",
    "issue_type": "refactor",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "optional_phases": [],
    "skip_reason": null,
    "created_at": "2025-12-26T21:19:46.386026+00:00"
  },
  "51": {
    "issue_title": "Config: Label Management System (labels.yaml)",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "created_at": "2025-12-27T21:35:23.969404+00:00"
  },
  "52": {
    "issue_title": "Config: Validation Rules Configuration (validation.yaml)",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "created_at": "2025-12-30T22:04:15.116679+00:00"
  },
  "53": {
    "issue_title": "Refactor: QAManager loads/runs gates from .st3/quality.yaml",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-08T10:37:37.661275+00:00"
  },
  "64": {
    "issue_title": "Bug: create_feature_branch has incorrect name and unsafe default base",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "execution_mode": "interactive",
    "created_at": "2025-12-29T20:28:33.6262046+01:00",
    "skip_reason": null,
    "issue_number": 64,
    "workflow_name": "bug"
  },
  "67": {
    "issue_number": 67,
    "issue_title": "Bug: LabelConfig singleton causes stale cache after schema changes",
    "workflow_name": "bug",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "created_at": "2025-12-30T14:35:00.000000+00:00"
  },
  "39": {
    "issue_title": "InitializeProjectTool does not initialize branch state",
    "workflow_name": "bug",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "created_at": "2025-12-30T18:27:12.939751+00:00"
  },
  "77": {
    "issue_title": "MCP Tool Error Handling & VS Code Tool Availability",
    "workflow_name": "bug",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "created_at": "2026-01-03T13:09:13.042516+00:00"
  },
  "79": {
    "issue_title": "Feature: Add parent_branch tracking to state management",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "created_at": "2026-01-03T14:10:37.044782+00:00"
  },
  "76": {
    "issue_title": "Epic: Quality Gates Tooling Implementation",
    "workflow_name": "epic",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "coordination",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "epic/49-mcp-platform-configurability",
    "created_at": "2026-01-03T22:34:10.793314+00:00"
  },
  "85": {
    "issue_number": 85,
    "issue_title": "Issue #85: state.json rewrite reliability on branch checkout (MCP stdio-safe)",
    "workflow_name": "bug",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "created_at": "2026-01-04T08:24:36.714321+00:00"
  },
  "89": {
    "issue_title": "Bug: Copilot Chat disables MCP tools per session (misleading 'disabled by the user')",
    "workflow_name": "bug",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "epic/76-quality-gates-tooling",
    "created_at": "2026-01-06T12:07:50.242172+00:00"
  },
  "91": {
    "issue_title": "Epic: Restore clean tests + consistent ToolResult error contract",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "epic/76-quality-gates-tooling",
    "created_at": "2026-01-06T19:07:54.466688+00:00"
  },
  "94": {
    "issue_title": "Inventory + implement missing ST3 git tools (sync/pull/fetch etc.)",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-07T13:02:08.564154+00:00"
  },
  "54": {
    "issue_title": "Config: Scaffold Rules Configuration (scaffold.yaml)",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-09T09:38:54.525493+00:00"
  },
  "99": {
    "issue_title": "Re-evaluate + fix Claude-model compatibility regressions (tool schemas & SafeEditTool)",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "docs/test-pr-creation",
    "created_at": "2026-01-08T21:38:44.637153+00:00"
  },
  "55": {
    "issue_title": "Config: Git Conventions Configuration (git.yaml)",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-15T15:54:39.382348+00:00"
  },
  "113": {
    "issue_title": "MCP Server Hot Restart via Transparent Proxy",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-15T15:21:09.931857+00:00"
  },
  "56": {
    "issue_title": "Config: Document Templates Configuration (documents.yaml)",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-16T19:25:34.874376+00:00"
  },
  "120": {
    "issue_title": "Scaffolder: Improve error messages and context validation",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-01-22T14:05:06.656035+00:00"
  },
  "121": {
    "issue_title": "Content-Aware Edit Tool: VS Code Position/Range API + ScaffoldEdit Extensions",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-22T15:36:48.520935+00:00"
  },
  "72": {
    "issue_title": "Epic: Template Library Management",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-01-22T16:15:17.812951+00:00"
  },
  "19": {
    "issue_title": "Reference Documentation for MCP Server Tooling",
    "workflow_name": "docs",
    "execution_mode": "interactive",
    "required_phases": [
      "planning",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-02-08T11:05:50.754151+00:00"
  },
  "131": {
    "issue_title": "Quality Gates: Implement Config-Driven Execution (QAManager refactor)",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-02-09T19:55:10.594255+00:00"
  },
  "137": {
    "issue_title": "Bug: git_checkout fails on remote-only branches (no local tracking branch)",
    "workflow_name": "bug",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-02-14T10:51:03.000302+00:00"
  },
  "138": {
    "issue_title": "Bug: git_add_or_commit only accepts TDD phases, not workflow phases (research/planning/integration)",
    "workflow_name": "bug",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-02-14T15:43:07.083834+00:00"
  },
  "144": {
    "issue_title": "Enhancement: Add git_fetch hint to checkout not-found error",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "integration",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-02-14T20:01:14.099861+00:00"
  },
  "149": {
    "issue_title": "Redesign create_issue tool: structured input, config-driven validation, Jinja2 body scaffolding",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-02-18T14:34:40.512360+00:00"
  },
  "135": {
    "issue_title": "Template introspection metadata violates SSOT principle",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-02-14T20:53:55.634622+00:00"
  },
  "146": {
    "issue_title": "TDD Cycle Tracking &amp; Validation (Planning Outcome \u2192 State Machine)",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": null,
    "created_at": "2026-02-17T08:37:24.636799+00:00"
  },
  "229": {
    "issue_title": "Phase deliverables enforcement: exit gate (hard) + entry warning (soft)",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "feature/146-tdd-cycle-tracking",
    "created_at": "2026-02-19T09:50:48.221403+00:00",
    "planning_deliverables": {
      "tdd_cycles": {
        "total": 10,
        "cycles": [
          {
            "cycle_number": 1,
            "deliverables": [
              {
                "id": "D1.1",
                "description": "workphases.yaml: exit_requires + entry_expects fields on planning phase",
                "validates": {
                  "type": "key_path",
                  "file": ".st3/workphases.yaml",
                  "path": "phases.planning.exit_requires"
                }
              },
              {
                "id": "D1.2",
                "description": "DeliverableChecker implementation",
                "validates": {
                  "type": "file_exists",
                  "file": "mcp_server/managers/deliverable_checker.py"
                }
              },
              {
                "id": "D1.3",
                "description": "DeliverableChecker unit tests",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/unit/mcp_server/managers/test_deliverable_checker.py"
                }
              }
            ],
            "exit_criteria": "All 8 unit tests pass (schema backward compat + checker)"
          },
          {
            "cycle_number": 2,
            "deliverables": [
              {
                "id": "D2.1",
                "description": "PhaseStateEngine: on_exit_planning_phase wired to WorkphasesConfig + DeliverableChecker (Option B)",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "on_exit_planning_phase"
                }
              },
              {
                "id": "D2.2",
                "description": "PhaseStateEngine: on_enter_tdd_phase no longer validates planning_deliverables independently",
                "validates": {
                  "type": "absent_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "planning_deliverables"
                }
              },
              {
                "id": "D2.3",
                "description": "DeliverableChecker: file_glob type added (GAP-05) \u2014 pattern-based file existence check",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/deliverable_checker.py",
                  "text": "file_glob"
                }
              },
              {
                "id": "D2.4",
                "description": "git_add_or_commit validates workflow_phase + cycle_number against state.json (GAP-07) \u2014 blocks on phase mismatch",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/git_tools.py",
                  "text": "phase_mismatch"
                }
              }
            ],
            "exit_criteria": "All 9 tests pass; planning exit gate wired to WorkphasesConfig+DeliverableChecker; file_glob type available"
          },
          {
            "cycle_number": 3,
            "deliverables": [
              {
                "id": "D3.1",
                "description": "force_transition logs warning listing skipped gates",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "skipped_gates"
                }
              },
              {
                "id": "D3.2",
                "description": "force_cycle_transition warns about unvalidated deliverables in skipped cycles (GAP-08)",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/transition_tools.py",
                  "text": "Unvalidated cycle deliverables"
                }
              }
            ],
            "exit_criteria": "All 5 tests pass; forced phase transition warns skipped gates; forced cycle transition warns unvalidated skipped cycle deliverables"
          },
          {
            "cycle_number": 4,
            "deliverables": [
              {
                "id": "D4.1",
                "description": "SavePlanningDeliverablesTool defined in project_tools.py",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/project_tools.py",
                  "text": "SavePlanningDeliverablesTool"
                }
              },
              {
                "id": "D4.2",
                "description": "SavePlanningDeliverablesTool registered in server.py",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/server.py",
                  "text": "SavePlanningDeliverablesTool"
                }
              },
              {
                "id": "D4.3",
                "description": "Layer 2 schema validation: validates entry type + required fields checked before persisting (GAP-06)",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/project_tools.py",
                  "text": "validate_spec"
                }
              }
            ],
            "exit_criteria": "All 6 tests pass; tool callable via MCP; rejects invalid validates.type with helpful error listing available types and required fields"
          },
          {
            "cycle_number": 5,
            "deliverables": [
              {
                "id": "D5.1",
                "description": "UpdatePlanningDeliverablesTool defined in project_tools.py with merge-strategy",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/project_tools.py",
                  "text": "UpdatePlanningDeliverablesTool"
                }
              },
              {
                "id": "D5.2",
                "description": "ProjectManager.update_planning_deliverables() merge logic implemented",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/project_manager.py",
                  "text": "update_planning_deliverables"
                }
              },
              {
                "id": "D5.3",
                "description": "UpdatePlanningDeliverablesTool registered in server.py",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/server.py",
                  "text": "UpdatePlanningDeliverablesTool"
                }
              }
            ],
            "exit_criteria": "All 5 tests pass; new cycles append, existing deliverables merge by id; call before initial save raises clear error"
          },
          {
            "cycle_number": 6,
            "deliverables": [
              {
                "id": "D6.1",
                "description": "PhaseStateEngine reads type:file_glob from exit_requires and checks filesystem",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "file_glob"
                }
              },
              {
                "id": "D6.2",
                "description": "workphases.yaml research phase configured with file_glob exit gate",
                "validates": {
                  "type": "key_path",
                  "file": ".st3/workphases.yaml",
                  "path": "phases.research.exit_requires"
                }
              }
            ],
            "exit_criteria": "All 5 tests pass; research phase blocks transition without *research*.md; {issue_number} interpolated correctly"
          },
          {
            "cycle_number": 7,
            "deliverables": [
              {
                "id": "D7.1",
                "description": "save_planning_deliverables accepts per-phase keys (design, validation, documentation) alongside tdd_cycles",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/project_manager.py",
                  "text": "phase_deliverables"
                }
              },
              {
                "id": "D7.2",
                "description": "PhaseStateEngine exit gate checks planning_deliverables.<phase>.deliverables when present",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "phase_deliverables"
                }
              }
            ],
            "exit_criteria": "All 5 tests pass; per-phase deliverable gates optional; hotfix workflow unaffected"
          },
          {
            "cycle_number": 8,
            "deliverables": [
              {
                "id": "D8.1",
                "description": "update_planning_deliverables merges design/validation/documentation keys analoog aan tdd_cycles",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/project_manager.py",
                  "text": "incoming_phase"
                }
              },
              {
                "id": "D8.2",
                "description": "Per-fase merge by id: bestaande entry met matching id updated, nieuwe id toegevoegd",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/project_manager.py",
                  "text": "_known_phase_keys"
                }
              },
              {
                "id": "D8.3",
                "description": "exit_criteria op bestaande cycle wordt overschreven bij update",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/project_manager.py",
                  "text": "exit_criteria"
                }
              }
            ],
            "exit_criteria": "All 6 tests pass; update met design key updated projects.json; update tdd_cycles backward compat"
          },
          {
            "cycle_number": 9,
            "deliverables": [
              {
                "id": "D9.1",
                "description": "PhaseStateEngine.on_exit_validation_phase() geimplementeerd analoog aan on_exit_design_phase",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "on_exit_validation_phase"
                }
              },
              {
                "id": "D9.2",
                "description": "PhaseStateEngine.on_exit_documentation_phase() geimplementeerd analoog aan on_exit_design_phase",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "on_exit_documentation_phase"
                }
              },
              {
                "id": "D9.3",
                "description": "transition() wired: on_exit_validation_phase en on_exit_documentation_phase aangeroepen bij juiste from_phase",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "on_exit_documentation_phase"
                }
              }
            ],
            "exit_criteria": "All 6 tests pass; validation->documentation blokkeert op falende spec; gate optioneel; GAP-14 specs gecorrigeerd"
          },
          {
            "cycle_number": 10,
            "deliverables": [
              {
                "description": "force_phase_transition response emits blocking gates before \u2705 success line",
                "id": "D10.1",
                "validates": {
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "ACTION REQUIRED",
                  "type": "contains_text"
                }
              },
              {
                "description": "force_cycle_transition response emits blocking deliverables before \u2705 success line",
                "id": "D10.2",
                "validates": {
                  "file": "mcp_server/tools/transition_tools.py",
                  "text": "ACTION REQUIRED",
                  "type": "contains_text"
                }
              },
              {
                "description": "Skipped gates classified as would_block vs would_pass before emitting response",
                "id": "D10.3",
                "validates": {
                  "file": "mcp_server/managers/phase_state_engine.py",
                  "text": "would_block",
                  "type": "contains_text"
                }
              }
            ],
            "exit_criteria": "All 5 tests pass; blocking gates appear before \u2705; passing gates appear after or omitted; transition behaviour unchanged"
          }
        ]
      }
    }
  },
  "236": {
    "issue_title": "Backfill existing issues: clean titles, add labels, re-scaffold bodies",
    "workflow_name": "docs",
    "execution_mode": "interactive",
    "required_phases": [
      "planning",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-02-21T10:03:18.664629+00:00"
  },
  "237": {
    "issue_title": "Exclude integration marker from default pytest run",
    "workflow_name": "hotfix",
    "execution_mode": "autonomous",
    "required_phases": [
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-02-21T14:44:51.488448+00:00"
  },
  "239": {
    "issue_title": "Make tier0 SCAFFOLD header fields conditional for non-file artifacts",
    "workflow_name": "feature",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "design",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-02-21T14:59:20.795498+00:00",
    "planning_deliverables": {
      "tdd_cycles": {
        "total": 3,
        "cycles": [
          {
            "cycle_number": 1,
            "deliverables": [
              {
                "id": "D1.1",
                "description": "tier0_base_artifact.jinja2: conditional header \u2014 {% if output_path %} wacht twee-regel formaat, else compacte HTML-comment",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/scaffolding/templates/tier0_base_artifact.jinja2",
                  "text": "output_path is not none"
                }
              },
              {
                "id": "D1.2",
                "description": "Test: render met output_path=None \u2192 compacte header (geen filepath, geen created/updated)",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/unit/mcp_server/test_tier0_conditional_header.py"
                }
              },
              {
                "id": "D1.3",
                "description": "Test: render met output_path='src/foo.py' \u2192 twee-regel formaat ongewijzigd",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/unit/mcp_server/test_tier0_conditional_header.py"
                }
              }
            ],
            "exit_criteria": "Alle tier0-tests groen (incl. bestaande); output_path=None \u2192 compacte HTML-comment; output_path=str \u2192 twee-regel ongewijzigd"
          },
          {
            "cycle_number": 2,
            "deliverables": [
              {
                "id": "D2.1",
                "description": "template_scaffolder.validate(): ValueError/ValidationError als output_type='file' en output_path leeg/None",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/scaffolders/template_scaffolder.py",
                  "text": "output_path is required"
                }
              },
              {
                "id": "D2.2",
                "description": "Test: file-artifact + lege output_path \u2192 ValidationError met hint",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/unit/mcp_server/test_scaffolder_output_path_validation.py"
                }
              },
              {
                "id": "D2.3",
                "description": "Test: ephemeral-artifact + output_path=None \u2192 geen fout",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/unit/mcp_server/test_scaffolder_output_path_validation.py"
                }
              }
            ],
            "exit_criteria": "Stille fallback (rule 168) is dood code; ValidationError gegooid bij file-artifact zonder output_path; ephemeral ongewijzigd"
          },
          {
            "cycle_number": 3,
            "deliverables": [
              {
                "id": "D3.1",
                "description": "_render_body() geeft output_path=None door aan scaffolder",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/issue_tools.py",
                  "text": "output_path=None"
                }
              },
              {
                "id": "D3.2",
                "description": "_render_body() berekent version_hash via compute_version_hash() op issue.md.jinja2",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/issue_tools.py",
                  "text": "compute_version_hash"
                }
              },
              {
                "id": "D3.3",
                "description": "Test: rendered body bevat 'template=issue version=<8-char hex>'",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/unit/mcp_server/test_render_body_scaffold_header.py"
                }
              },
              {
                "id": "D3.4",
                "description": "Test: rendered body bevat GEEN 'created=' of lege filepath-regel",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/unit/mcp_server/test_render_body_scaffold_header.py"
                }
              }
            ],
            "exit_criteria": "GitHub issue body heeft `<!-- template=issue version=XXXXXXXX -->` header; hash reproduceerbaar; geen lege SCAFFOLD-velden"
          }
        ]
      }
    }
  },
  "103": {
    "issue_title": "Enhance run_tests tool for large test suites (1000+ tests)",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-02-21T22:34:50.536535+00:00",
    "planning_deliverables": {
      "tdd_cycles": {
        "total": 4,
        "cycles": [
          {
            "cycle_number": 1,
            "deliverables": [
              {
                "id": "D1.1",
                "description": "_parse_pytest_output() private function aanwezig in test_tools.py",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/test_tools.py",
                  "text": "_parse_pytest_output"
                }
              },
              {
                "id": "D1.2",
                "description": "RunTestsInput heeft geen verbose veld meer",
                "validates": {
                  "type": "absent_text",
                  "file": "mcp_server/tools/test_tools.py",
                  "text": "verbose"
                }
              },
              {
                "id": "D1.3",
                "description": "JSON-response met summary.failed key aanwezig in execute()",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/test_tools.py",
                  "text": "\"failed\""
                }
              },
              {
                "id": "D1.4",
                "description": "Unit tests voor RunTestsTool aanwezig",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/mcp_server/unit/tools/test_run_tests_tool.py"
                }
              }
            ],
            "exit_criteria": "Tests groen: response bij 0 failures toont alleen summary; response bij failures toont summary + test_id/short_reason/location; geen temp-file"
          },
          {
            "cycle_number": 2,
            "deliverables": [
              {
                "id": "D2.1",
                "description": "last_failed_only veld aanwezig in RunTestsInput",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/test_tools.py",
                  "text": "last_failed_only"
                }
              },
              {
                "id": "D2.2",
                "description": "_build_cmd() private methode geextraheerd in RunTestsTool",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/test_tools.py",
                  "text": "_build_cmd"
                }
              },
              {
                "id": "D2.3",
                "description": "pytest --lf flag aanwezig in cmd-builder logica",
                "validates": {
                  "type": "contains_text",
                  "file": "mcp_server/tools/test_tools.py",
                  "text": "--lf"
                }
              }
            ],
            "exit_criteria": "Tests groen: last_failed_only=True voegt --lf toe; default gedrag onveranderd; combinatie met path werkt"
          },
          {
            "cycle_number": 3,
            "deliverables": [
              {
                "id": "D3.1",
                "description": "integration markerdefinitie aanwezig in pyproject.toml",
                "validates": {
                  "type": "contains_text",
                  "file": "pyproject.toml",
                  "text": "end-to-end"
                }
              },
              {
                "id": "D3.2",
                "description": "slow markerdefinitie aanwezig in pyproject.toml",
                "validates": {
                  "type": "contains_text",
                  "file": "pyproject.toml",
                  "text": "slow"
                }
              },
              {
                "id": "D3.3",
                "description": "test_qa.py verplaatst naar tests/mcp_server/integration/",
                "validates": {
                  "type": "file_exists",
                  "file": "tests/mcp_server/integration/test_qa.py"
                }
              },
              {
                "id": "D3.4",
                "description": "asyncio_mode = strict in pyproject.toml",
                "validates": {
                  "type": "contains_text",
                  "file": "pyproject.toml",
                  "text": "asyncio_mode = \"strict\""
                }
              }
            ],
            "exit_criteria": "Tests groen: QA-tests standaard geskipt; integration marker heeft formele definitie; test_create_issue_e2e.py slaagt zonder live verbinding; asyncio_mode=strict actief"
          },
          {
            "cycle_number": 4,
            "deliverables": [
              {
                "id": "D4.1",
                "description": "pytest-xdist aanwezig in requirements-dev.txt",
                "validates": {
                  "type": "contains_text",
                  "file": "requirements-dev.txt",
                  "text": "pytest-xdist"
                }
              },
              {
                "id": "D4.2",
                "description": "-n auto aanwezig in pyproject.toml addopts",
                "validates": {
                  "type": "contains_text",
                  "file": "pyproject.toml",
                  "text": "-n auto"
                }
              },
              {
                "id": "D4.3",
                "description": "xdist_group markers aanwezig op filesystem-touching tests",
                "validates": {
                  "type": "contains_text",
                  "file": "tests/mcp_server/integration/test_qa.py",
                  "text": "xdist_group"
                }
              }
            ],
            "exit_criteria": "Optionele cycle: pytest -n auto slaagt zonder extra failures; wall clock < 40s; geen race conditions"
          }
        ]
      },
      "validation": {
        "deliverables": [
          {
            "id": "V1",
            "description": "Volledige testsuite zonder integration markers groen",
            "validates": {
              "type": "contains_text",
              "file": "pyproject.toml",
              "text": "not integration"
            }
          },
          {
            "id": "V2",
            "description": "RunTestsTool retourneert JSON-response zonder temp-file bij integratierun",
            "validates": {
              "type": "absent_text",
              "file": "mcp_server/tools/test_tools.py",
              "text": "tmp"
            }
          }
        ]
      },
      "documentation": {
        "deliverables": [
          {
            "id": "DOC1",
            "description": "planning.md version history bijgewerkt met finale versie",
            "validates": {
              "type": "file_exists",
              "file": "docs/development/issue103/planning.md"
            }
          },
          {
            "id": "DOC2",
            "description": "Issue #103 acceptatiecriteria bijgewerkt conform geimplementeerde cycles",
            "validates": {
              "type": "file_exists",
              "file": "docs/development/issue103/research.md"
            }
          }
        ]
      }
    }
  },
  "247": {
    "issue_title": "Strict test structure separation: backend/ vs mcp_server/",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-02-21T20:16:47.408544+00:00",
    "planning_deliverables": {
      "tdd_cycles": {
        "total": 6,
        "cycles": [
          {
            "cycle_number": 1,
            "deliverables": [
              {
                "id": "D1.1",
                "description": "scope_encoder.py verplaatst naar mcp_server/core/"
              },
              {
                "id": "D1.2",
                "description": "phase_detection.py verplaatst naar mcp_server/core/"
              },
              {
                "id": "D1.3",
                "description": "3 productie-importsites bijgewerkt (git_manager, project_manager, discovery_tools)"
              },
              {
                "id": "D1.4",
                "description": "backend/core/__init__.py exports gecontroleerd en verwijderd indien aanwezig"
              }
            ],
            "exit_criteria": "pytest tests/ -k 'scope_encoder or phase_detection' groen; grep vindt 0 backend.core.scope_encoder/phase_detection imports"
          },
          {
            "cycle_number": 2,
            "deliverables": [
              {
                "id": "D2.1",
                "description": "test_scope_encoder.py import bijgewerkt naar mcp_server.core"
              },
              {
                "id": "D2.2",
                "description": "test_phase_detection.py import bijgewerkt naar mcp_server.core"
              },
              {
                "id": "D2.3",
                "description": "test_workflow_cycle_e2e.py import bijgewerkt naar mcp_server.core"
              },
              {
                "id": "D2.4",
                "description": "Beide test files verplaatst naar tests/mcp_server/unit/core/"
              }
            ],
            "exit_criteria": "pytest tests/ -k 'scope_encoder or phase_detection or workflow_cycle_e2e' volledig groen; geen files meer in tests/unit/backend/core/"
          },
          {
            "cycle_number": 3,
            "deliverables": [
              {
                "id": "D3.1",
                "description": "test_tier1_templates.py: string literal 'from backend.core import Worker' vervangen door neutraal"
              },
              {
                "id": "D3.2",
                "description": "test_concrete_templates.py regel 207: string literal vervangen door neutraal"
              },
              {
                "id": "D3.3",
                "description": "test_concrete_templates.py regels 257-267: patroon-assertions op symboolnaam ipv hardcoded import-paden"
              },
              {
                "id": "D3.4",
                "description": "test_safe_edit_validation_integration.py: BaseWorker fixture vervangen door generieke ABC-subclass"
              }
            ],
            "exit_criteria": "grep vindt 0 'from backend.' in 4 aangepaste files; alle betrokken tests groen"
          },
          {
            "cycle_number": 4,
            "deliverables": [
              {
                "id": "D4.1",
                "description": "tests/backend/ directory-tree aangemaakt met __init__.py per subdir"
              },
              {
                "id": "D4.2",
                "description": "27 backend test-files verplaatst naar tests/backend/"
              },
              {
                "id": "D4.3",
                "description": "tests/parity/normalization.py verplaatst naar tests/backend/parity/normalization.py"
              },
              {
                "id": "D4.4",
                "description": "Lege dirs tests/unit/assembly/ en tests/unit/dtos/build_specs/ verwijderd"
              }
            ],
            "exit_criteria": "pytest tests/backend/ -v slaagt voor 27 tests zonder MCP-imports"
          },
          {
            "cycle_number": 5,
            "deliverables": [
              {
                "id": "D5.1",
                "description": "tests/fixtures/, baselines/, regression/, acceptance/, integration/ verplaatst naar tests/mcp_server/"
              },
              {
                "id": "D5.2",
                "description": "Alle MCP unit-files verplaatst naar tests/mcp_server/unit/"
              },
              {
                "id": "D5.3",
                "description": "pytest_plugins en relatieve imports bijgewerkt naar nieuwe paden"
              },
              {
                "id": "D5.4",
                "description": "tests/ root tier0/tier1/tier2/cycle-files verplaatst naar tests/mcp_server/"
              }
            ],
            "exit_criteria": "pytest tests/mcp_server/ -v slaagt voor ~169 tests"
          },
          {
            "cycle_number": 6,
            "deliverables": [
              {
                "id": "D6.1",
                "description": "tests/conftest.py gesplitst: root minimaal, tests/backend/conftest.py, tests/mcp_server/conftest.py met autouse MCP-singleton reset"
              },
              {
                "id": "D6.2",
                "description": "pyproject.toml testpaths bijgewerkt naar [tests/mcp_server]"
              },
              {
                "id": "D6.3",
                "description": "test_pytest_config.py verplaatst naar tests/mcp_server/unit/ en assertions bijgewerkt"
              },
              {
                "id": "D6.4",
                "description": "Lege resten van tests/unit/, tests/parity/, tests/fixtures/, tests/baselines/ verwijderd"
              }
            ],
            "exit_criteria": "pytest (geen args) draait alleen MCP-tests; pytest tests/backend/ geeft 27 groene tests; pytest tests/backend/ tests/mcp_server/ geeft 2318 tests totaal"
          }
        ]
      }
    }
  },
  "251": {
    "issue_title": "Refactor run_quality_gates: fix venv pytest + structured output aligned with run_tests",
    "workflow_name": "refactor",
    "execution_mode": "interactive",
    "required_phases": [
      "research",
      "planning",
      "tdd",
      "validation",
      "documentation"
    ],
    "skip_reason": null,
    "parent_branch": "main",
    "created_at": "2026-02-22T17:05:14.107952+00:00",
    "planning_deliverables": {
      "tdd_cycles": {
        "total": 32,
        "cycles": [
          {
            "cycle_number": 1,
            "deliverables": [
              {
                "id": "D1.1",
                "description": "C0: Remove gate5_tests and gate6_coverage from active_gates in .st3/quality.yaml"
              }
            ],
            "exit_criteria": "Config contract test passes; active_gates contains no pytest or coverage entries; QualityConfig.model_validate raises no warnings"
          },
          {
            "cycle_number": 2,
            "deliverables": [
              {
                "id": "D2.1",
                "description": "C1: ViolationDTO dataclass added to quality_config.py with 7 fields"
              }
            ],
            "exit_criteria": "Unit test passes for required and optional field construction; no type errors"
          },
          {
            "cycle_number": 3,
            "deliverables": [
              {
                "id": "D3.1",
                "description": "C2: JsonViolationsParsing Pydantic model added to quality_config.py"
              }
            ],
            "exit_criteria": "Validation tests pass for ruff and pyright schema variants"
          },
          {
            "cycle_number": 4,
            "deliverables": [
              {
                "id": "D4.1",
                "description": "C3: project_scope: GateScope | None added to QualityConfig"
              }
            ],
            "exit_criteria": "Config model validation passes with and without project_scope"
          },
          {
            "cycle_number": 5,
            "deliverables": [
              {
                "id": "D5.1",
                "description": "C4: produces_json field removed from CapabilitiesMetadata and all usages"
              }
            ],
            "exit_criteria": "Zero produces_json references in codebase"
          },
          {
            "cycle_number": 6,
            "deliverables": [
              {
                "id": "D6.1",
                "description": "C5: TextViolationsParsing Pydantic model added to quality_config.py"
              }
            ],
            "exit_criteria": "Validation tests for model construction pass"
          },
          {
            "cycle_number": 7,
            "deliverables": [
              {
                "id": "D7.1",
                "description": "C6: Model validator added to TextViolationsParsing enforcing {field} placeholder references"
              }
            ],
            "exit_criteria": "Unknown placeholder raises ValidationError with actionable message"
          },
          {
            "cycle_number": 8,
            "deliverables": [
              {
                "id": "D8.1",
                "description": "C7: _parse_json_violations happy path for root-array JSON"
              }
            ],
            "exit_criteria": "Ruff-like sample converts to expected ViolationDTO list"
          },
          {
            "cycle_number": 9,
            "deliverables": [
              {
                "id": "D9.1",
                "description": "C8: Dotted-path extraction helper for nested dict fields"
              }
            ],
            "exit_criteria": "Nested pyright fields resolve correctly; missing path returns None"
          },
          {
            "cycle_number": 10,
            "deliverables": [
              {
                "id": "D10.1",
                "description": "C9: violations_path extraction resolves nested array before field mapping"
              }
            ],
            "exit_criteria": "Pyright-like payload produces ViolationDTO list from nested array"
          },
          {
            "cycle_number": 11,
            "deliverables": [
              {
                "id": "D11.1",
                "description": "C10: line_offset normalization and fixable_when boolean applied in JSON parser"
              }
            ],
            "exit_criteria": "Parser returns expected normalized line and correct fixable flag"
          },
          {
            "cycle_number": 12,
            "deliverables": [
              {
                "id": "D12.1",
                "description": "C11: _parse_text_violations using regex named groups"
              }
            ],
            "exit_criteria": "Mypy-style line parses into one ViolationDTO"
          },
          {
            "cycle_number": 13,
            "deliverables": [
              {
                "id": "D13.1",
                "description": "C12: defaults interpolation with {field} substitution applied in text parser"
              }
            ],
            "exit_criteria": "Ruff-format line yields configured default message with interpolated file path"
          },
          {
            "cycle_number": 14,
            "deliverables": [
              {
                "id": "D14.1",
                "description": "C13: execute_gate dispatch switched to match/case on parsing_strategy"
              }
            ],
            "exit_criteria": "execute_gate parses via strategy without any gate-name checks"
          },
          {
            "cycle_number": 15,
            "deliverables": [
              {
                "id": "D15.1",
                "description": "C14: _parse_ruff_json, _parse_json_field_issues and obsolete parser branches deleted"
              }
            ],
            "exit_criteria": "Zero references to removed parser methods; regression suite green"
          },
          {
            "cycle_number": 16,
            "deliverables": [
              {
                "id": "D16.1",
                "description": "C15: _files_for_gate filtering by gate.capabilities.file_types"
              }
            ],
            "exit_criteria": "Filtering respects each gate's configured file types"
          },
          {
            "cycle_number": 17,
            "deliverables": [
              {
                "id": "D17.1",
                "description": "C16: _filter_files removed"
              }
            ],
            "exit_criteria": "_filter_files no longer exists; all call sites updated"
          },
          {
            "cycle_number": 18,
            "deliverables": [
              {
                "id": "D18.1",
                "description": "C17: Dead pytest-specific helper methods deleted from qa_manager.py"
              }
            ],
            "exit_criteria": "No pytest helper methods remain; regression suite green"
          },
          {
            "cycle_number": 19,
            "deliverables": [
              {
                "id": "D19.1",
                "description": "C18: is_file_specific_mode bifurcation block removed"
              }
            ],
            "exit_criteria": "Single execution path remains for all scopes"
          },
          {
            "cycle_number": 20,
            "deliverables": [
              {
                "id": "D20.1",
                "description": "C19: Baseline advance on all-pass: baseline_sha=HEAD, failed_files=[] persisted to state.json"
              }
            ],
            "exit_criteria": "State contains new baseline SHA and empty failed_files after all-pass run"
          },
          {
            "cycle_number": 21,
            "deliverables": [
              {
                "id": "D21.1",
                "description": "C20: Failure accumulation: failed_files union persisted to state.json; baseline_sha unchanged"
              }
            ],
            "exit_criteria": "failed_files equals union of old and new failures"
          },
          {
            "cycle_number": 22,
            "deliverables": [
              {
                "id": "D22.1",
                "description": "C21: _resolve_scope('project') expands project_scope.include_globs against workspace root"
              }
            ],
            "exit_criteria": "scope=project returns expected Python file set"
          },
          {
            "cycle_number": 23,
            "deliverables": [
              {
                "id": "D23.1",
                "description": "C22: _resolve_scope('branch') collects changed files via git diff parent..HEAD"
              }
            ],
            "exit_criteria": "scope=branch returns changed files from diff output"
          },
          {
            "cycle_number": 24,
            "deliverables": [
              {
                "id": "D24.1",
                "description": "C23: _resolve_scope('auto') happy path: union of diff files and failed_files"
              }
            ],
            "exit_criteria": "scope=auto returns exact union set when baseline present"
          },
          {
            "cycle_number": 25,
            "deliverables": [
              {
                "id": "D25.1",
                "description": "C24: _resolve_scope('auto') edge cases: no-baseline fallback and empty-change early return"
              }
            ],
            "exit_criteria": "No-baseline falls back to project scope; empty set returns early"
          },
          {
            "cycle_number": 26,
            "deliverables": [
              {
                "id": "D26.1",
                "description": "C25: _format_summary_line formatter for pass/fail/skip outcomes"
              }
            ],
            "exit_criteria": "Formatter tests pass for all three scenarios"
          },
          {
            "cycle_number": 27,
            "deliverables": [
              {
                "id": "D27.1",
                "description": "C26: Compact JSON payload builder with per-gate violations list, no debug fields"
              }
            ],
            "exit_criteria": "Payload contains only agreed schema fields; no stdout/stderr/raw_output"
          },
          {
            "cycle_number": 28,
            "deliverables": [
              {
                "id": "D28.1",
                "description": "C27: ToolResult content contract normalized: item 0 text, item 1 json, exactly two items"
              }
            ],
            "exit_criteria": "Tool response always has exactly two items; content[0] is text; content[1] is json"
          },
          {
            "cycle_number": 29,
            "deliverables": [
              {
                "id": "D29.1",
                "description": "C28: Migrate files API to scope=\"files\" \u2014 add scope=\"files\" as 4th Literal value with conditional files: list[str] | None companion field; model_validator enforces both constraints"
              }
            ],
            "exit_criteria": "All four scope values (auto, branch, project, files) accepted; scope=\"files\" with non-empty files routes list verbatim to run_quality_gates; scope=\"files\" without files (or empty) raises ValidationError; scope \u2208 {auto,branch,project} with files supplied raises ValidationError; old bare-files API (no scope param) rejected"
          },
          {
            "cycle_number": 30,
            "deliverables": [
              {
                "id": "D30.1",
                "description": "C29: run_tests content order inverted: text summary first, json payload second (contract change)"
              }
            ],
            "exit_criteria": "content[0] is summary text; content[1] is json payload; existing callers updated"
          },
          {
            "cycle_number": 31,
            "deliverables": [
              {
                "id": "D31.1",
                "description": "C30: quality.yaml gate activation updated: gate5/6 removed, project_scope added"
              }
            ],
            "exit_criteria": "Config validation passes; active gates match design; no gate5/gate6 references"
          },
          {
            "cycle_number": 32,
            "deliverables": [
              {
                "id": "D32.1",
                "description": "C31: quality.yaml parsing strategy migrated: json_violations and text_violations replace old blocks"
              }
            ],
            "exit_criteria": "Live quality.yaml validates against new models with no compatibility shim"
          }
        ]
      }
    }
  }
}