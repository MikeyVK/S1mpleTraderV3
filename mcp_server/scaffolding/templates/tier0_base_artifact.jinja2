{#- tier0_base_artifact.jinja2 - Universal base template for all artifacts -#}
{#- Version: 2.0.0 (Issue #72 Cycle 2: 2-line SCAFFOLD format) -#}
{#- Purpose: Provides 2-line SCAFFOLD metadata header (filepath + metadata, NO "SCAFFOLD:" prefix) -#}
{#-
TEMPLATE_METADATA:
  enforcement: STRICT
  level: format
  validates:
    strict:
      - "^# .+$"
      - "^<!-- .+ -->$"
  extends: null
  purpose: "Universal base for all artifacts - provides format-adaptive 2-line SCAFFOLD metadata"
  version: "2.0.0"
  introspection:
    template_id: tier0_base_artifact
    tier: 0
    variables:
      required:
        - artifact_type
        - version_hash
        - timestamp
        - output_path
        - format
      optional: []
    exports_blocks:
      - content
-#}

{#- WHITESPACE STRATEGY (Issue #72):
    Block opening with right-trim ({% block content -%}) prevents extra blank lines
-#}

{%- if format == "markdown" -%}
<!-- {{ output_path }} -->
<!-- template={{ artifact_type }} version={{ version_hash }} created={{ timestamp }} updated= -->
{%- else -%}
# {{ output_path }}
# template={{ artifact_type }} version={{ version_hash }} created={{ timestamp }} updated=
{%- endif %}
{% block content -%}
{%- endblock %}
