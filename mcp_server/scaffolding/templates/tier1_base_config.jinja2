{#- tier1_base_config.jinja2 - Base template for config artifacts -#}
{#- Version: 1.0.0 -#}
{#- Purpose: Provides key-value structure, schema hooks -#}
{%- extends "tier0_base_artifact.jinja2" -%}

{#-
TEMPLATE_METADATA:
  enforcement: STRICT
  level: format
  validates:
    strict:
      - "^[a-zA-Z_][a-zA-Z0-9_]*:"
      - "^  [a-zA-Z_][a-zA-Z0-9_]*:"
  extends: tier0_base_artifact.jinja2
  purpose: "Format base for config artifacts - provides key-value structure"
  version: "1.0.0"
  introspection:
    template_id: tier1_base_config
    tier: 1
    parent: tier0_base_artifact
    variables:
      required:
        - config_name
      optional:
        - config_entries
    exports_blocks:
      - config_root
      - config_entries_block
-#}

{%- block content -%}
{%- block config_root -%}
name: {{ config_name }}

{%- block config_entries_block -%}
{%- if config_entries -%}
{%- for key, value in config_entries.items() %}
{{ key }}: {{ value }}
{%- endfor -%}
{%- endif -%}
{%- endblock -%}
{%- endblock -%}
{%- endblock -%}
