{#- tier2_base_yaml.jinja2 - Language base for YAML config files -#}
{#- Version: 1.0.0 -#}
{#- Purpose: Adds YAML-specific patterns (nested structures, comments, anchors) -#}
{%- extends "tier1_base_config.jinja2" -%}

{#-
TEMPLATE_METADATA:
  enforcement: ARCHITECTURAL
  level: content
  validates:
    guidelines:
      - "Use 2-space indentation"
      - "Key format: lowercase_with_underscores"
      - "Consider comments for complex structures"
  extends: tier1_base_config.jinja2
  purpose: "Language base for YAML - adds nested structures, comments, anchors"
  version: "1.0.0"
  introspection:
    template_id: tier2_base_yaml
    tier: 2
    parent: tier1_base_config
    variables:
      required:
        - config_name
      optional:
        - config_entries
        - nested_structures
        - header_comment
    exports_blocks:
      - header_comment_block
      - nested_section
-#}

{%- block content -%}
{%- block header_comment_block -%}
{%- if header_comment -%}
# {{ header_comment }}
{%- endif -%}
{%- endblock %}

{{ super() }}

{%- block nested_section -%}
{%- if nested_structures -%}
{%- for struct in nested_structures %}

{{ struct.key }}:
{%- for item in struct.entries %}
  {{ item.key }}: {{ item.value }}
{%- endfor %}
{%- endfor -%}
{%- endif -%}
{%- endblock %}
{%- endblock -%}
