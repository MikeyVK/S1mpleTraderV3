{# TEMPLATE_METADATA:
  name: tier3_pattern_markdown_status_header
  tier: 3
  category: pattern
  enforcement: ARCHITECTURAL
  used_by: [research, planning, design, architecture, reference]
  provides_macros:
    - pattern_status_header_basic
    - pattern_status_header_extended
    - pattern_status_header_reference
  description: >
    Status header pattern macro library for Markdown documents.
    Provides composable macros for document header fields:
    - basic: Status, Version, Last Updated
    - extended: adds Created, Implementation Phase (for design.md)
    - reference: adds Source, Tests (for reference.md)
  changelog:
    - version: "1.0.0"
      date: "2026-02-05"
      changes: "Initial macro library for status header pattern"
#}

{# Macro: basic status header (research, planning, architecture) #}
{% macro pattern_status_header_basic(status="DRAFT", version="1.0", last_updated=None) -%}
**Status:** {{ status }}  
**Version:** {{ version }}  
**Last Updated:** {{ last_updated or timestamp[:10] }}  
{%- endmacro %}

{# Macro: extended status header (design.md) #}
{% macro pattern_status_header_extended(status="PRELIMINARY", version="1.0", created=None, last_updated=None, implementation_phase=None) -%}
**Status:** {{ status }}  
**Version:** {{ version }}  
**Created:** {{ created or timestamp[:10] }}  
**Last Updated:** {{ last_updated or timestamp[:10] }}  
**Implementation Phase:** {{ implementation_phase or "Phase 1.0 - Design" }}  
{%- endmacro %}

{# Macro: reference status header (reference.md) #}
{% macro pattern_status_header_reference(status="DEFINITIVE", version="1.0", last_updated=None, source_file=None, test_file=None, test_count=None) -%}
**Status:** {{ status }}  
**Version:** {{ version }}  
**Last Updated:** {{ last_updated or timestamp[:10] }}  

**Source:** [{{ source_file }}][source]  
**Tests:** [{{ test_file }}][tests]{% if test_count %} ({{ test_count }} tests){% endif %}  
{%- endmacro %}